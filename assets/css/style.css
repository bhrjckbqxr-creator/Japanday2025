/* ===== Base (mobile-first) ===== */
:root{
  --bg:#0d0f12; --card:#181b20; --line:rgba(255,255,255,.10); --text:#e9ecf1;
  --brand:#ff2d7a; --muted:#cbd3dc;
  --header-h:64px; --safe-top:env(safe-area-inset-top, 0px); --safe-bot:env(safe-area-inset-bottom, 0px);
  --pad-bot:max(12px, var(--safe-bot));
}
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans JP", "Noto Sans", sans-serif;
  color:var(--text); background:var(--bg);
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}
a{ color:#fff; text-decoration:none }
h1,h2{ margin:.3em 0 .4em }
.container{ max-width:1100px; margin:0 auto; padding:24px 16px }

/* ===== Header ===== */
.site-header{
  position:fixed; inset:0 0 auto 0; height:var(--header-h);
  display:flex; align-items:center; gap:14px; padding:0 14px;
  z-index:60; background:rgba(18,19,23,.7); backdrop-filter:blur(12px);
  border-bottom:1px solid var(--line);
}
.logo{ font-weight:800; color:#fff }
.nav{ display:none }
@media (min-width:720px){ .nav{ display:block } .nav a{ color:#dcdfe6; margin-right:14px; font-weight:700 } }
.langs{ margin-left:auto; display:flex; gap:8px }
.pill{ border:1px solid var(--line); background:#121417; color:#fff; padding:8px 12px; border-radius:999px; font-weight:700 }
.pill.is-active{ outline:2px solid var(--brand) }
.nav-spacer{ height:calc(var(--header-h) + var(--safe-top)) }

/* ===== Hero (poster always fully visible) ===== */
.hero.poster{ margin:12px 16px 0; position:relative }
.poster-frame{
  /* 16:9に準拠。縦長端末でも全体が必ず見える */
  height:min(84vh, calc(100vw * 0.5625));
  max-width:1100px; margin:0 auto;
  background:#000; border-radius:16px; overflow:hidden; border:1px solid var(--line);
  display:grid; place-items:center;
}
.poster-img{ width:100%; height:100%; object-fit:contain; object-position:center; background:#000 }
.hero-actions{
  margin:10px auto 0; max-width:1100px;
  display:grid; grid-template-columns:repeat(auto-fit, minmax(168px,1fr)); gap:10px; padding:0 16px;
}
.btn{
  display:flex; justify-content:center; align-items:center; height:44px;
  border-radius:999px; background:rgba(24,27,32,.9); border:1px solid var(--line);
  color:#fff; font-weight:800; letter-spacing:.2px;
}
.hero .copy{ max-width:1100px; margin:12px auto 0; padding:0 16px }
.hero .copy h1{ font-size:clamp(22px, 5vw, 34px) }
.hero .copy .lede{ color:var(--muted) }

/* ===== Sections ===== */
section{ scroll-margin-top:calc(var(--header-h) + 10px); margin:28px 0 }
h2{ font-size:clamp(20px, 4.2vw, 26px); padding:0 16px }
.program-list{ list-style:none; padding:0 16px; margin:12px 0; display:grid; gap:8px }
.program-list li{
  background:var(--card); border:1px solid var(--line); border-radius:12px; padding:10px 12px;
  display:grid; grid-template-columns:84px 1fr; gap:10px
}
.program-list strong{ color:#fff; font-weight:800; text-align:center }

.cards{ display:grid; grid-template-columns:repeat(auto-fit, minmax(200px,1fr)); gap:12px; padding:0 16px }
.card{ background:var(--card); border:1px solid var(--line); border-radius:14px; padding:12px; text-align:center }
.card img{ width:100%; height:auto; display:block }

.map-grid, .vendors{ display:grid; gap:12px; padding:0 16px }
.map-grid{ grid-template-columns:repeat(auto-fit, minmax(240px,1fr)) }
.map-grid img{ width:100%; height:auto; border-radius:12px; border:1px solid var(--line) }

.vendors{ grid-template-columns:repeat(auto-fit, minmax(220px,1fr)) }
.vendor{ background:var(--card); border:1px solid var(--line); border-radius:14px; padding:12px; display:grid; gap:8px }
.vendor .logo{ width:100%; height:120px; object-fit:contain; background:#0b0b0b; border-radius:10px }
.vendor .meta{ color:var(--muted); font-size:.95em }

/* ===== History timeline (text) ===== */
.timeline{ list-style:none; margin:12px 16px; padding:0; display:grid; gap:10px; position:relative }
.timeline::before{ content:""; position:absolute; left:22px; top:0; bottom:0; width:2px; background:var(--line) }
.timeline li{ display:grid; grid-template-columns:56px 1fr; gap:10px; position:relative; padding-left:12px }
.timeline li::before{ content:""; position:absolute; left:17px; top:.85em; width:10px; height:10px; border-radius:50%; background:var(--brand) }
.timeline .year{ font-weight:800; color:#fff }
.timeline .box{ background:var(--card); border:1px solid var(--line); border-radius:12px; padding:10px 12px }
.timeline .head{ font-weight:700; margin-bottom:4px }
.timeline .text{ color:var(--muted) }
.tl-panels{ display:grid; gap:10px; margin:12px 16px }
.tl-panels img{ width:100%; border-radius:12px; border:1px solid var(--line) }

/* ===== Footer ===== */
.site-footer{ text-align:center; padding:24px 16px calc(24px + var(--safe-bot)); color:#aeb7c1 }

/* ===== Peek mascots: not always visible ===== */
.peek{
  position:fixed; bottom:calc(5.5vh + var(--pad-bot)); z-index:70;
  display:flex; align-items:flex-end; gap:10px; filter:drop-shadow(0 10px 22px rgba(0,0,0,.18));
  opacity:0; transform:translateY(8px) scale(.98); transition:opacity .38s, transform .38s;
  pointer-events:auto;
}
.peek.show{ opacity:1; transform:translateY(0) scale(1) }
.peek img{ height:20vh; max-height:200px; width:auto; background:transparent }
.peek .bubble{ position:relative; max-width:220px; background:rgba(26,26,30,.92); color:#fff; border:1px solid var(--line);
  border-radius:14px; padding:10px 14px; backdrop-filter:blur(6px) }
.peek .close{ position:absolute; top:6px; right:8px; background:transparent; border:0; color:#fff; opacity:.6; cursor:pointer }
.peek.from-left{ left:10px } .peek.from-right{ right:10px }

@media (min-width:800px){
  /* タブレット以上は余白を微増して視認性アップ */
  .poster-frame{ height:min(78vh, calc(100vw * 0.5)) }
  .peek img{ height:18vh; max-height:220px }
}
