/* ===== Base ===== */
:root{
  --bg:#0d0f12; --card:#181b20; --line:rgba(255,255,255,.08); --text:#e9ecf1;
  --brand:#ff2d7a;
  --header-h:64px; --safe-top:env(safe-area-inset-top, 0px); --safe-bot:env(safe-area-inset-bottom, 0px);
  --pad-bot:max(12px, var(--safe-bot));
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans JP", sans-serif;
  color:var(--text); background:var(--bg);
}
a{ color:#fff }
.container{ max-width:1100px; margin:0 auto; padding:24px 16px }

/* ===== Header ===== */
.site-header{
  position:fixed; inset:0 0 auto 0; height:var(--header-h);
  display:flex; align-items:center; gap:14px; padding:0 14px;
  z-index:50; background:rgba(20,21,25,.7); backdrop-filter:blur(12px);
  border-bottom:1px solid var(--line);
}
.logo a{ color:#fff; font-weight:700; text-decoration:none }
.nav a{ color:#ddd; margin-right:14px; text-decoration:none; font-weight:600 }
.langs{ margin-left:auto; display:flex; gap:8px }
.pill{ border:1px solid var(--line); background:#121417; color:#fff; padding:8px 12px; border-radius:999px }
.pill.is-active{ outline:2px solid var(--brand) }
.nav-spacer{ height:calc(var(--header-h) + var(--safe-top)) }

/* ===== Hero Poster (FULLY VISIBLE) ===== */
.hero.poster{ margin:12px 16px 0; position:relative }
.poster-frame{
  background:#000; border-radius:16px; overflow:hidden; border:1px solid var(--line);
}
.poster-img{
  display:block; width:100%; height:clamp(52vh, 64vh, 80vh); /* 高さは端末に合わせて可変 */
  object-fit:contain; /* ← 全体表示（上下左右に余白が出ても必ず全図が見える） */
  object-position:center center; background:#000;
}
.hero-actions{
  margin:10px auto 0; max-width:1100px; display:grid;
  grid-template-columns:repeat(auto-fit, minmax(180px,1fr)); gap:10px; padding:0 16px;
}
.btn{
  display:flex; justify-content:center; align-items:center; height:44px;
  border-radius:999px; background:rgba(24,27,32,.9); border:1px solid var(--line);
  text-decoration:none; color:#fff; font-weight:700; letter-spacing:.2px;
}

/* Copy block under hero */
.hero .copy{ max-width:1100px; margin:14px auto 0; padding:0 16px }
.hero .copy h2{ margin:.2em 0 .3em; font-size:clamp(22px, 4.5vw, 36px) }
.hero .copy .lede{ color:#cbd3dc }

/* ===== Sections ===== */
section{ scroll-margin-top:calc(var(--header-h) + 10px); margin:32px 0 }
h3{ font-size:clamp(22px, 4vw, 28px); margin:.4em 16px }
.program-list{ list-style:none; padding:0 16px; margin:12px 0; display:grid; gap:8px }
.program-list li{ background:var(--card); border:1px solid var(--line); border-radius:10px; padding:10px 12px }

.cards{ display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)); gap:12px; padding:0 16px }
.card{ background:var(--card); border:1px solid var(--line); border-radius:14px; padding:12px; text-align:center }
.card img{ width:100%; height:auto; display:block }

.history-grid, .map-grid{ display:grid; gap:12px; padding:0 16px }
.history-grid{ grid-template-columns:1fr }
.map-grid{ grid-template-columns:repeat(auto-fit, minmax(260px,1fr)) }
.history-grid img, .map-grid img{ width:100%; height:auto; border-radius:12px; border:1px solid var(--line); display:block }

.vendors{ display:grid; gap:12px; padding:0 16px; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)) }
.vendor{ background:var(--card); border:1px solid var(--line); border-radius:14px; padding:12px; display:grid; gap:10px }
.vendor .meta{ font-size:.95em; color:#cbd3dc }
.vendor .logo{ width:100%; height:120px; object-fit:contain; background:#0b0b0b; border-radius:10px }

/* ===== Footer ===== */
.site-footer{ text-align:center; padding:24px 16px calc(24px + var(--safe-bot)); color:#aeb7c1 }

/* ===== Peek mascots ===== */
.peek{
  position:fixed; bottom:calc(7vh + var(--pad-bot)); z-index:60;
  display:flex; align-items:flex-end; gap:10px; filter:drop-shadow(0 10px 22px rgba(0,0,0,.18));
  opacity:0; transform:translateY(8px); transition:opacity .5s, transform .5s;
}
.peek.show{ opacity:1; transform:translateY(0) }
.peek img{ height:24vh; max-height:260px; width:auto; background:transparent }
.peek .bubble{ position:relative; max-width:220px; background:rgba(26,26,30,.9); color:#fff; border:1px solid var(--line);
  border-radius:14px; padding:10px 14px; backdrop-filter:blur(6px) }
.peek .close{ position:absolute; top:6px; right:8px; background:transparent; border:0; color:#fff; opacity:.6 }
.peek.from-left{ left:10px } .peek.from-right{ right:10px }

@media (max-width:480px){
  .poster-img{ height:clamp(56vh, 66vh, 84vh) } /* 小さい画面では少し縦に大きく確保して全体表示 */
  .peek img{ height:22vh; max-height:220px }
}
